---
title: Azure 'da Windows VM 'Leri için Microsoft kötü amaçlı yazılımdan koruma uzantısı
description: Azure kötü amaçlı yazılımdan koruma uzantısını Windows sanal makinesine uzantı kullanarak dağıtın.
services: virtual-machines
documentationcenter: ''
author: TerryLanfear
manager: rkarlin
editor: ''
ms.assetid: ''
ms.service: virtual-machines
ms.subservice: extensions
ms.collection: windows
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: infrastructure-services
ms.date: 02/23/2021
ms.author: terrylan
ms.openlocfilehash: db4341bf240717b48f3b2dfa6e119393be374f49
ms.sourcegitcommit: 32e0fedb80b5a5ed0d2336cea18c3ec3b5015ca1
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/30/2021
ms.locfileid: "105042773"
---
# <a name="microsoft-antimalware-extension-for-windows"></a>Windows için Microsoft kötü amaçlı yazılımdan koruma uzantısı

## <a name="overview"></a>Genel Bakış

Bulut ortamları için modern tehdit yatağun son derece dinamik olması, uyumluluk ve güvenlik gereksinimlerini karşılamak üzere etkili koruma sağlamak için iş kolu bulut abonelerinin basıncını artırmasını sağlar. Azure için Microsoft Antimalware, bilinen kötü amaçlı veya istenmeyen yazılımlar kendisini yüklemeyi veya Azure sistemlerinizde çalıştırmayı denediğinde yapılandırılabilir uyarılarla virüs, casus yazılım ve diğer kötü amaçlı yazılımların tanımlanmasına ve kaldırılmasına yardımcı olan ücretsiz gerçek zamanlı koruma özelliğidir. Çözüm, Microsoft Security Essentials (MSE), Microsoft Forefront Endpoint Protection, Microsoft System Center Endpoint Protection, Windows Intune ve Windows 8,0 ve üzeri için Windows Defender ile aynı kötü amaçlı yazılımdan koruma platformunda oluşturulmuştur.
Azure için Microsoft kötü amaçlı yazılımdan koruma, uygulamalar ve kiracı ortamları için, insan müdahalesi olmadan arka planda çalışacak şekilde tasarlanan tek bir aracı çözümüdür. Kötü amaçlı yazılımdan koruma izleme de dahil olmak üzere temel güvenli veya gelişmiş özel yapılandırma ile uygulama iş yüklerinizin ihtiyaçlarına göre koruma dağıtabilirsiniz.

## <a name="prerequisites"></a>Önkoşullar

### <a name="operating-system"></a>İşletim sistemi

Azure için Microsoft kötü amaçlı yazılımdan koruma çözümü, Microsoft kötü amaçlı yazılımdan koruma Istemcisi ve hizmeti, kötü amaçlı yazılımdan koruma klasik dağıtım modeli, kötü amaçlı yazılımdan koruma PowerShell cmdlet Azure Tanılama 'leri Microsoft kötü amaçlı yazılımdan koruma çözümü Windows Server 2008 R2, Windows Server 2012 ve Windows Server 2012 R2 işletim sistemi aileleri ' de desteklenir. Windows Server 2008 işletim sisteminde desteklenmez ve Linux 'ta de desteklenmez. 

Windows Defender, Windows Server 2016 ' de etkinleştirilmiş yerleşik kötü amaçlı yazılımdan koruma. Windows Defender arabirimi, bazı Windows Server 2016 SKU 'ları üzerinde varsayılan olarak da etkinleştirilmiştir.
Azure VM kötü amaçlı yazılımdan koruma uzantısı, Windows Defender ile Windows Server 2016 Azure VM 'ye hala eklenebilir, ancak bu senaryoda uzantı, Windows Defender tarafından kullanılmak üzere tüm isteğe bağlı yapılandırma ilkelerini uygular, bu da uzantı herhangi bir kötü amaçlı yazılımdan koruma hizmeti dağıtmaz. Bu güncelleştirme hakkında daha fazla bilgiyi [burada](/archive/blogs/azuresecurity/update-to-azure-antimalware-extension-for-cloud-services)bulabilirsiniz.

### <a name="internet-connectivity"></a>İnternet bağlantısı

Windows için Microsoft kötü amaçlı yazılımdan koruma, hedef sanal makinenin normal altyapı ve imza güncelleştirmelerini almak için internet 'e bağlanmasını gerektirir. 

## <a name="template-deployment"></a>Şablon dağıtımı
Azure VM uzantıları, Azure Resource Manager şablonlarıyla dağıtılabilir. Azure antimalware 'e ekleme gibi dağıtım sonrası yapılandırması gerektiren bir veya daha fazla sanal makine dağıtımında şablonlar idealdir.

Bir sanal makine uzantısının JSON yapılandırması, sanal makine kaynağının içinde iç içe veya Kaynak Yöneticisi JSON şablonunun kök veya üst düzeyine yerleştirilmiş olabilir. JSON yapılandırmasının yerleştirilmesi, kaynak adının ve türün değerini etkiler. Daha fazla bilgi için bkz. [alt kaynaklar için ad ve tür ayarlama](../../azure-resource-manager/templates/child-resource-name-type.md). 

Aşağıdaki örnek, VM uzantısının sanal makine kaynağının içinde iç içe olduğunu varsayar. Uzantı kaynağını yuvalama sırasında JSON, `"resources": []` sanal makinenin nesnesine yerleştirilir.

```json
{
      "type": "Microsoft.Compute/virtualMachines/extensions",
      "name": "[concat(parameters('vmName'),'/', parameters('vmExtensionName'))]",
      "apiVersion": "2019-07-01",
      "location": "[resourceGroup().location]",
      "dependsOn": [
        "[concat('Microsoft.Compute/virtualMachines/', parameters('vmName'))]"
      ],

      "properties": {
        "publisher": "Microsoft.Azure.Security",
        "type": "IaaSAntimalware",
        "typeHandlerVersion": "1.3",
        "autoUpgradeMinorVersion": true,
        "settings": {
          "AntimalwareEnabled": "true",
          "Exclusions": {
            "Extensions": ".log;.ldf",
            "Paths": "D:\\IISlogs;D:\\DatabaseLogs",
            "Processes": "mssence.svc"
          },

          "RealtimeProtectionEnabled": "true",
          "ScheduledScanSettings": {
            "isEnabled": "true",
            "scanType": "Quick",
            "day": "7",
            "time": "120"
          }
        },
        "protectedSettings": null
      }
}
```

## <a name="powershell-deployment"></a>PowerShell dağıtımı
Dağıtım türüne bağlıdır, Azure kötü amaçlı yazılımdan koruma sanal makine uzantısını var olan bir sanal makineye dağıtmak için ilgili komutları kullanın.

  * [Azure Resource Manager tabanlı sanal makine](../../security/fundamentals/antimalware-code-samples.md#enable-and-configure-microsoft-antimalware-for-azure-resource-manager-vms)
  * [Azure Service Fabric kümeleri](../../security/fundamentals/antimalware-code-samples.md#add-microsoft-antimalware-to-azure-service-fabric-clusters)
  * [Klasik bulut hizmeti](/powershell/module/servicemanagement/azure.service/set-azureserviceextension)

## <a name="troubleshoot-and-support"></a>Sorun giderme ve destek

### <a name="troubleshoot"></a>Sorun giderme

Microsoft kötü amaçlı yazılımdan koruma uzantısı günlükleri,%Systemdrive%\WindowsAzure\Logs\Plugins\Microsoft.Azure.Security.IaaSAntimalware (veya PaaSAntimalware) \1.5.5.x (sürüm #) \CommandExecution.log konumunda mevcuttur

### <a name="error-codes-and-their-meanings"></a>Hata kodları ve anlamları

| Hata kodu | Anlamı | Olası eylem |
| :---: | --- | --- |
| -2147156224 | MSI farklı yüklemeyle meşgul | Yüklemeyi daha sonra çalıştırmayı deneyin |
| -2147156221 | MSE kurulumu zaten çalışıyor | Tek seferde yalnızca bir örnek Çalıştır |
| -2147156208 | Yetersiz disk alanı < 200 MB | Kullanılmayan dosyaları sil ve yüklemeyi yeniden dene |
| -2147156187 | Son yükleme, yükseltme, güncelleştirme veya kaldırma istenen yeniden başlatma | Yeniden başlatın ve yüklemeyi yeniden deneyin |
| -2147156121 | Kurulum, rakip ürününü kaldırmayı denedi. Ancak rakip ürün kaldırma başarısız oldu | Rakip ürününü el ile kaldırmayı deneyin, yeniden başlatın ve yüklemeyi yeniden deneyin  |
| -2147156116 | İlke dosyası doğrulaması başarısız oldu | Kuruluma geçerli bir ilke XML dosyası geçirdiğinizden emin olun  |
| -2147156095 | Kurulum, kötü amaçlı yazılımdan koruma hizmetini başlatamadı | Tüm ikili dosyaların doğru şekilde imzalandığını ve doğru lisans dosyasının yüklü olduğunu doğrulayın |
| -2147023293 | Yükleme sırasında ciddi bir hata oluştu. Çoğu durumda, olacaktır. Epp.msi, register\start\stop har Service veya mini Filter sürücüsü | Gelecekte yapılacak araştırma için EPP.msi MSI günlükleri burada gereklidir |
| -2147023277 | Yükleme paketi açılamadı | Paketin var olduğunu ve erişilebilir olduğunu doğrulayın veya bunun geçerli bir Windows Installer paketi olduğunu doğrulamak için uygulama satıcısına başvurun |
| -2147156109 | Defender bir önkoşul olarak gereklidir |  |
| -2147205073 | WebSSO veren desteklenmiyor | |
| -2147024893 | Sistem belirtilen yolu bulamıyor |  |
| -2146885619 | Şifreleme iletisi değil veya şifreleme iletisi doğru biçimlendirilmedi |  |
| -1073741819 | 0x% p konumundaki yönergede 0x% p konumunda başvurulan bellek. Bellek% s olamaz |  |
| 1 | Yanlış Işlev |  |


### <a name="support"></a>Destek

Bu makalenin herhangi bir noktasında daha fazla yardıma ihtiyacınız varsa, [MSDN Azure ve Stack Overflow forumlarında](https://azure.microsoft.com/support/forums/)Azure uzmanlarıyla iletişim kurun. Alternatif olarak, bir Azure destek olayı da oluşturabilirsiniz. [Azure destek sitesine](https://azure.microsoft.com/support/options/)gidin ve Destek Al ' ı seçin. Azure desteğini kullanma hakkında daha fazla bilgi için, [Microsoft Azure support SSS](https://azure.microsoft.com/support/faq/)makalesini okuyun.
