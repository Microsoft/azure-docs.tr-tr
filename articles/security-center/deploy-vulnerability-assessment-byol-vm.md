---
title: Azure Güvenlik Merkezi 'nde KLG VM Güvenlik açığı değerlendirmesi
description: Azure Güvenlik Merkezi 'nde sanal makinelerinizi korumanıza yardımcı olabilecek öneriler almak için Azure sanal makinelerinizde bir KLG güvenlik açığı değerlendirme çözümü dağıtın.
author: memildin
manager: rkarlin
ms.service: security-center
ms.topic: how-to
ms.date: 03/17/2021
ms.author: memildin
ms.openlocfilehash: 61c3d6bfc517b5a6979ea8b7a8fe895a1b3aeb44
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/30/2021
ms.locfileid: "104602477"
---
# <a name="deploy-a-bring-your-own-license-byol-vulnerability-assessment-solution"></a>Kendi lisansını getir (KLG) güvenlik açığı değerlendirme çözümünü dağıtma

**Sunucular Için Azure Defender**'ı etkinleştirdiyseniz, [sanal makineler için tümleşik güvenlik açığı tarayıcısı](./deploy-vulnerability-assessment-vm.md)bölümünde açıklandığı gibi Azure Güvenlik Merkezi 'nin yerleşik güvenlik açığı değerlendirme aracı 'nı kullanabilirsiniz. Bu araç Azure Defender ile tümleşiktir ve herhangi bir dış lisans gerektirmez; her şey güvenlik merkezi 'Nde sorunsuz şekilde işlenir. Ayrıca tümleşik tarayıcı, Azure Arc etkin makinelerini destekler.

Alternatif olarak, [Qualys](https://www.qualys.com/lp/azure) veya [Rapid7](https://www.rapid7.com/products/insightvm/)' den özel olarak lisanslanmış güvenlik açığı değerlendirme çözümünüzü dağıtmak isteyebilirsiniz. Bu iş ortağı çözümlerinden birini, aynı aboneliğe ait birden çok VM 'ye yükleyebilirsiniz (ancak Azure Arc etkin makinelere uygulanmaz).

## <a name="availability"></a>Kullanılabilirlik

|Görünüş|Ayrıntılar|
|----|:----|
|Yayın durumu:|Genel kullanılabilirlik (GA)|
|Makine türleri:|![Yes](./media/icons/yes-icon.png) Azure sanal makineleri<br>![No](./media/icons/no-icon.png) Azure yay etkin makineler|
|Fiyat|Ücretsiz|
|Gerekli roller ve izinler:|**Kaynak sahibi** tarayıcıyı dağıtabilir<br>**Güvenlik okuyucusu** bulguları görüntüleyebilir|
|Larının|![Yes](./media/icons/yes-icon.png) Ticari bulutlar<br>![No](./media/icons/no-icon.png) Ulusal/Sogeign (US Gov, Çin gov, diğer gov)|
|||


## <a name="deploy-a-byol-solution-from-the-azure-portal"></a>Azure portal bir KLG çözümünü dağıtma

KLG seçenekleri, desteklenen üçüncü taraf güvenlik açığı değerlendirme çözümlerine başvurur. Şu anda Qualys ve Rapid7 desteklenen sağlayıcılardır.

Desteklenen çözümler, güvenlik açığı verilerini iş ortağının yönetim platformuna bildirir. Buna karşılık, bu platform Güvenlik Merkezi 'ne geri güvenlik açığı ve sistem durumu izleme verileri sağlar. Güvenlik Merkezi panosunda güvenlik açığı bulunan VM 'Leri tanımlayabilir ve raporlar ve daha fazla bilgi için doğrudan güvenlik merkezi 'nden iş ortağı yönetim konsoluna geçiş yapabilirsiniz.

1. [Azure Portal](https://azure.microsoft.com/features/azure-portal/), **Güvenlik Merkezi**'ni açın.

1. Güvenlik Merkezi 'nin menüsünde, **öneriler** sayfasını açın.

1. **Bir güvenlik açığı değerlendirme çözümünün sanal makinelerinizde etkinleştirilmesi gerektiğine** yönelik öneri ' i seçin.

    :::image type="content" source="./media/deploy-vulnerability-assessment-vm/recommendation-page-machine-groupings.png" alt-text="* * Bir güvenlik açığı değerlendirme çözümünde makinelerin gruplandırmaları sanal makinelerinizde etkinleştirilmelidir * * öneri sayfası" lightbox="./media/deploy-vulnerability-assessment-vm/recommendation-page-machine-groupings.png":::

    VM 'niz aşağıdaki gruplardan bir veya daha fazla görünür:

    * **Sağlıklı kaynaklar** – Güvenlik Merkezi, bu VM 'lerde çalışan bir güvenlik açığı değerlendirme çözümü algıladı.
    * **Sağlıksız kaynaklar** – bu sanal makinelere bir güvenlik açığı tarayıcı uzantısı dağıtılabilir. 
    * **Geçerli olmayan kaynaklar** : Bu VM 'lerde bir güvenlik açığı tarayıcı uzantısı dağıtılabilir.

1. Sağlıksız makineler listesinden bir güvenlik açığı değerlendirme çözümü alacak olanları seçin ve **Düzelt**' i seçin.

    >[!IMPORTANT]
    > Yapılandırmanıza bağlı olarak, bu listenin yalnızca bir alt kümesini görebilirsiniz. 
    >
    > - Yapılandırılmış bir üçüncü taraf güvenlik açığı tarayıcısı yoksa, bunu dağıtma fırsatı sunulmaz.
    > - Seçtiğiniz VM 'Ler Azure Defender ile korunmadığı takdirde, ASC tümleşik güvenlik açığı tarayıcısı seçeneği kullanılamaz.

    :::image type="content" source="./media/deploy-vulnerability-assessment-vm/recommendation-remediation-options.png" alt-text="Önerisine yanıt verme sırasında seçmek istediğiniz düzeltme akışı türü için seçenekler * * sanal makinelerinizde bir güvenlik açığı değerlendirme çözümü etkinleştirilmelidir * * öneri sayfası":::

1. Yeni bir KLG yapılandırması ayarlıyorsanız, **Yeni bir üçüncü taraf güvenlik açığı tarayıcısı Yapılandır**' ı seçin, ilgili uzantıyı seçin, **devam**' ı seçin ve sağlayıcıdan ayrıntıları aşağıdaki gibi girin:

    1. **Kaynak grubu** olarak **Var olanı kullan**’ı seçin. Bu kaynak grubunu daha sonra silerseniz, KLG çözümü kullanılamaz.
    1. **Konum** olarak, çözümün coğrafi konumunu seçin.
    1. Qualys için, Qualys tarafından sunulan lisansı **Lisans kodu** alanına girin.
    1. Rapid7 için **Rapid7 yapılandırma dosyasını** karşıya yükleyin.
    1. **Ortak anahtar** kutusuna ortağın sunduğu ortak anahtar bilgilerini girin.
    1. Bu güvenlik açığı değerlendirmesi aracısını, bu çözümün aboneliğindeki tüm bulunan VM 'Lere otomatik olarak yüklemek için **Otomatik dağıt**' ı seçin.
    1. **Tamam**’ı seçin.

1. KLG çözümünüzü zaten ayarladıysanız, **yapılandırılmış üçüncü taraf güvenlik açığı tarayıcınızı dağıt**' ı seçin, ilgili uzantıyı seçin ve **devam**' ı seçin.

Güvenlik açığı değerlendirme çözümü hedef makinelere yüklendikten sonra, Güvenlik Merkezi, sistem ve uygulamadaki güvenlik açıklarını algılayıp belirlemek için bir tarama çalıştırır. İlk taramanın tamamlanması birkaç saat sürebilir. Bundan sonra saatlik olarak çalışır.



## <a name="deploy-a-byol-solution-using-powershell-and-the-rest-api"></a>PowerShell ve REST API kullanarak bir KLG çözümü dağıtın

Özel olarak lisanslanan güvenlik açığı değerlendirme çözümünüzü [Qualys](https://www.qualys.com/lp/azure) veya [Rapid7](https://www.rapid7.com/products/insightvm/)adresinden dağıtmak Için, sağlanan betik [PowerShell > güvenlik açığı çözümünü](https://github.com/Azure/Azure-Security-Center/tree/master/Powershell%20scripts/Vulnerability%20Solution)kullanın. Bu betik, ASC 'de yeni bir güvenlik çözümü oluşturmak için REST API kullanır. Hizmet sağlayıcınız (Qualys veya Rapid7) tarafından sağlanmış bir lisansa ve anahtara ihtiyacınız vardır.

> [!IMPORTANT] 
> Her lisans için yalnızca bir çözüm oluşturulabilir. Aynı ad/lisans/anahtar kullanılarak başka bir çözüm oluşturulmaya çalışılması başarısız olur.

### <a name="prerequisites"></a>Önkoşullar

Gerekli PowerShell modülleri:

- -Modülünü-Install az
- -Modülünü-Install az. Security

### <a name="run-the-script"></a>Betiği çalıştırın

Betiği çalıştırmak için aşağıdaki parametrelere ilişkin ilgili bilgilere ihtiyacınız olacaktır.

| **Parametre** | **Gerekli** | **Notlar** |
|----|:----:|----|
|**SubscriptionID**|✔|Analiz etmek istediğiniz kaynakları içeren Azure aboneliğinin abonelik kimliği.|
|**ResourceGroupName**|✔|Kaynak grubunun adı. Varsayılan ("DefaultResourceGroup-xxx") dahil olmak üzere var olan herhangi bir kaynak grubunu kullanın.<br>Çözüm bir Azure kaynağı olmadığından, kaynak grubu altında listelenmez, ancak hala buna bağlı kalır. Kaynak grubunu daha sonra silerseniz, KLG çözümü kullanılamaz olur.|
|**vaSolutionName**|✔|Yeni çözümün adı.|
|**vaType**|✔|Qualys veya Rapid7.|
|**licenseCode**|✔|Satıcı tarafından sağlanmış lisans dizesi.|
|**publicKey**|✔|Satıcı ortak anahtar sağladı.|
|**Otomatik**|-|Bu VA çözümü için otomatik dağıtımı etkinleştirin (true) veya devre dışı bırakın (false). Etkinleştirildiğinde, aboneliğin her yeni sanal makine otomatik olarak çözüme bağlanmayı dener.<br/>(Varsayılan: false)|
||||

Söz dizimi:

```azurepowershell
.\New-ASCVASolution.ps1 -subscriptionId <Subscription Id> -resourceGroupName <RG Name>
-vaSolutionName <New solution name> -vaType <Qualys / Rapid7> -autoUpdate <true/false>
-licenseCode <License code from vendor> -publicKey <Public Key received from vendor>
```

Örnek (Bu örnek geçerli lisans ayrıntıları içermez):

```azurepowershell
.\New-ASCVASolution.ps1 -subscriptionId 'f4cx1b69-dtgb-4ch6-6y6f-ea2e95373d3b' -resourceGroupName 'DefaultResourceGroup-WEU' -vaSolutionName 'QualysVa001' -vaType 'Qualys' -autoUpdate 'false' `
-licenseCode 'eyJjaWQiOiJkZDg5OTYzXe4iMTMzLWM4NTAtODM5FD2mZWM1N2Q3ZGU5MjgiLCJgbTYuOiIyMmM5NDg3MS1lNTVkLTQ1OGItYjhlMC03OTRhMmM3YWM1ZGQiLCJwd3NVcmwiOiJodHRwczovL3FhZ3B1YmxpYy1wMDEuaW50LnF1YWx5cy5jb20vQ2xvdSKJY6VudC8iLCJwd3NQb3J0IjoiNDQzIn0=' `
-publicKey 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCOiOLXjOywMfLZIBGPZLwSocf1Q64GASLK9OHFEmanBl1nkJhZDrZ4YD5lM98fThYbAx1Rde2iYV1ze/wDlX4cIvFAyXuN7HbdkeIlBl6vWXEBZpUU17bOdJOUGolzEzNBhtxi/elEZLghq9Chmah82me/okGMIhJJsCiTtglVQIDAQAB'
```

## <a name="faq---byol-vulnerability-scanner"></a>SSS-KLG güvenlik açığı tarayıcısı

- [Bir Qualys Aracısı dağıtıyorsanız hangi iletişim ayarları gereklidir?](#if-i-deploy-a-qualys-agent-what-communications-settings-are-required)
- [Bir KLG çözümünü yapılandırırken neden bir kaynak grubu belirtmem gerekir?](#why-do-i-have-to-specify-a-resource-group-when-configuring-a-byol-solution)


### <a name="if-i-deploy-a-qualys-agent-what-communications-settings-are-required"></a>Bir Qualys Aracısı dağıtıyorsanız hangi iletişim ayarları gereklidir?

Qualys bulut Aracısı, güncelleştirmeler için düzenli aralıklarla Qualys 'in SOC ile iletişim kurmak ve ürün işlevselliği için gereken çeşitli işlemleri gerçekleştirmek üzere tasarlanmıştır. Aracının SOC ile sorunsuz bir şekilde iletişim kurmasına izin vermek için, ağ güveninizi Qualys SOC CıDR ve URL 'lere gelen ve giden trafiğe izin verecek şekilde yapılandırın.

Çeşitli coğrafi konumlar arasında birden çok Qualys platformu vardır. SOC CıDR ve URL 'Leri, Qualys aboneliğinizin ana bilgisayar platformuna bağlı olarak farklılık gösterir. Qualys ana bilgisayar platformunuzu belirlemek için bu sayfayı kullanın https://www.qualys.com/platform-identification/ .


### <a name="why-do-i-have-to-specify-a-resource-group-when-configuring-a-byol-solution"></a>Bir KLG çözümünü yapılandırırken neden bir kaynak grubu belirtmem gerekir?

Çözümünüzü ayarlarken, iliştirilecek bir kaynak grubu seçmeniz gerekir. Çözüm bir Azure kaynağı olmadığından kaynak grubunun kaynakları listesine eklenmez. Bununla birlikte, bu kaynak grubuna iliştirilir. Kaynak grubunu daha sonra silerseniz, KLG çözümü kullanılamaz olur.



## <a name="next-steps"></a>Sonraki adımlar

> [!div class="nextstepaction"]
> [Güvenlik açığı değerlendirme çözümünüzdeki bulguları düzeltin](remediate-vulnerability-findings-vm.md)


Güvenlik Merkezi, için güvenlik açığı analizini de sunmaktadır:

- SQL veritabanları-bkz [. güvenlik açığı değerlendirme panosundaki güvenlik açığı değerlendirmesi raporlarını inceleyin](defender-for-sql-on-machines-vulnerability-assessment.md#explore-vulnerability-assessment-reports)
- Görüntüleri Azure Container Registry-bkz. [Azure Defender 'ı kapsayıcı kayıt defterleri Için kullanma güvenlik açıkları için görüntülerinizi tarayın](defender-for-container-registries-usage.md)