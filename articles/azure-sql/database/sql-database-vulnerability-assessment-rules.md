---
title: SQL güvenlik açığı değerlendirme kuralları başvuru kılavuzu
description: SQL Server, Azure SQL veritabanı, Azure SQL yönetilen örneği ve Azure SYNAPSE Analytics için kural başlıkları ve açıklamaları listesi
services: sql-database
ms.service: sql-db-mi
ms.subservice: security
ms.topic: reference
author: davidtrigano
ms.author: datrigan
ms.reviewer: vanto
ms.date: 03/17/2021
ms.openlocfilehash: fc5558f9f75ada78d1d4946c0e7b61ad8618629f
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/30/2021
ms.locfileid: "104597700"
---
# <a name="sql-vulnerability-assessment-rules-reference-guide"></a>SQL güvenlik açığı değerlendirme kuralları başvuru kılavuzu
[!INCLUDE[appliesto-sqldb-sqlmi-asa](../includes/appliesto-sqldb-sqlmi-asa.md)]

Bu makalede güvenlik açıklarına işaret etmek ve yanlış yapılandırma, aşırı izinler ve korunmayan hassas veriler gibi en iyi uygulamalardan sapmaları vurgulamak için kullanılan yerleşik kuralların kümesi listelenmektedir. Kurallar Microsoft 'un en iyi uygulamalarını temel alır ve veritabanınıza ve değerli verilere en büyük riskleri sunan güvenlik sorunlarına odaklanmaktadır. Bunlar hem veritabanı düzeyinde sorunları hem de sunucu düzeyi güvenlik sorunlarını (sunucu güvenlik duvarı ayarları ve sunucu düzeyi izinleri gibi) kapsar. Bu kurallar, uyumluluk standartlarını karşılamak için çeşitli yasal gövdelerden birçok gereksinimi da temsil eder.

Veritabanı taramalarda gösterilen kurallar, taranan SQL sürümüne ve platforma bağlıdır. 

Azure 'da güvenlik açığı değerlendirmesi uygulama hakkında bilgi edinmek için bkz. [güvenlik açığı değerlendirmesi uygulama](./sql-vulnerability-assessment.md#configure-vulnerability-assessment).

Bu kurallara yapılan değişikliklerin bir listesi için bkz. [SQL güvenlik açığı değerlendirme kuralları changelog](sql-database-vulnerability-assessment-rules-changelog.md).

## <a name="rule-categories"></a>Kural kategorileri

SQL güvenlik açığı değerlendirme kuralları, aşağıdaki bölümlerde yer aldığı beş kategoriye sahiptir:

- [Kimlik doğrulama ve yetkilendirme](#authentication-and-authorization)
- [Denetleme ve günlüğe kaydetme](#auditing-and-logging)
- [Veri Koruma](#data-protection)
- [Yükleme güncelleştirmeleri ve düzeltme ekleri](#installation-updates-and-patches)
- [Yüzey alanı azaltma](#surface-area-reduction)

<sup>1</sup> **SQL Server 2012 +** , tüm SQL Server 2012 ve üzeri sürümleri anlamına gelir.

<sup>2</sup> **SQL Server 2017 +** , tüm SQL Server 2017 ve üzeri sürümleri anlamına gelir.

<sup>3</sup> **SQL Server 2016 +** tüm SQL Server 2016 ve üzeri sürümleri anlamına gelir.

## <a name="authentication-and-authorization"></a>Kimlik Doğrulama ve Yetkilendirme

|Kural Kimliği  |Kural başlığı   |Kural önem derecesi  |Kural Tanımı  |Platform  |
|---------|---------|---------|---------|---------|
| VA1017     |Tüm kullanıcıların xp_cmdshell yürütme izinleri (dbo dışında) iptal edilmelidir          |Yüksek         |Xp_cmdshell genişletilmiş saklı yordam, yürütme için bir dize geçirerek bir Windows komut kabuğu 'nu çoğaltılır. Bu kural, hiçbir kullanıcının (sysadmin sunucu rolünün üyeleri gibi DENETIM sunucusu iznine sahip olan kullanıcılar) xp_cmdshell genişletilmiş saklı yordamı yürütme iznine sahip olduğunu denetler.         |<nobr>SQL Server 2012 +<sup>1</sup><nobr/>         |
|VA1020     |Veritabanı kullanıcı konuğu herhangi bir rolün üyesi olmamalıdır          |Yüksek         |Konuk Kullanıcı, belirli bir veritabanı kullanıcısına eşlenmemiş herhangi bir oturum açma için bir veritabanına erişime izin verir. Bu kural, Konuk kullanıcıya hiçbir veritabanı rolü atanmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Veritabanı                  |
|VA1042     |`master`, Ve hariç tüm veritabanları için veritabanı sahiplik zincirinin devre dışı bırakılması gerekir `msdb``tempdb`          |Yüksek         |Veritabanları arası sahiplik zinciri, bir sahiplik zincirinin, veritabanı sınırının çapraz olması dışında bir uzantısıdır. Bu kural,, ve hariç tüm veritabanları için bu seçeneğin devre dışı bırakıldığını denetler `master` `msdb` `tempdb` . `master`,, `msdb` Ve için `tempdb` çapraz veritabanı sahipliği zinciri varsayılan olarak etkindir.        |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1043     |Sorumlu KONUĞUN herhangi bir kullanıcı veritabanına erişimi olmamalıdır          |Orta         |Konuk Kullanıcı, belirli bir veritabanı kullanıcısına eşlenmemiş herhangi bir oturum açma için bir veritabanına erişime izin verir. Bu kural, Konuk kullanıcının herhangi bir veritabanına bağlanıp bağlanamamadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek        |
|VA1046     |CHECK_POLICY tüm SQL oturum açmaları için etkinleştirilmelidir          |Düşük         |CHECK_POLICY seçenek, SQL oturumlarını etki alanı ilkesinde doğrulamaya izin vermez. Bu kural, tüm SQL oturum açmaları için CHECK_POLICY seçeneğinin etkinleştirildiğini denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1047     |Tüm SQL oturum açmaları için parola süre sonu denetimi etkinleştirilmelidir          |Düşük         |Parola süre sonu ilkeleri, bir parolanın kullanım süresini yönetmek için kullanılır. SQL Server parola süre sonu ilkesini zorlarsa, kullanıcılardan eski parolaların değiştirilmesi ve süresi doldu olan hesapların devre dışı bırakılmış olması anımsatılır. Bu kural, parola süre sonu ilkesinin tüm SQL oturum açmaları için etkin olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1048     |Veritabanı sorumluları hesaba eşlenmemelidir `sa`          |Yüksek         |Hesaba eşlenen bir veritabanı sorumlusu, `sa` izinleri yükseltmek için bir saldırgan tarafından kullanılabilir `sysadmin`         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1052     |BUILTIN\Administrators 'ı sunucu oturumu olarak kaldır          |Düşük         |BUILTIN\Administrators grubu, Windows yerel Yöneticiler grubunu içerir. Microsoft SQL Server eski sürümlerinde bu grubun varsayılan olarak yönetici hakları vardır. Bu kural, bu grubun SQL Server kaldırıldığını denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1053     |Varsayılan ada sahip hesap `sa` yeniden adlandırılması veya devre dışı bırakılmalıdır          |Düşük         |`sa` , sorumlu KIMLIĞI 1 olan iyi bilinen bir hesaptır. Bu kural, `sa` hesabın yeniden adlandırıldığı veya devre dışı bırakıldığını doğrular.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1054     |Nesneler veya sütunlarda genel role aşırı izin verilmemelidir          |Düşük         |Her SQL Server oturum açma, genel sunucu rolüne aittir. Bir sunucu sorumlusu, güvenli kılınabilir bir nesne üzerinde belirli izinler verilmemişse veya reddedilmişse, Kullanıcı o nesne üzerinde herkese verilen izinleri devralır. Bu kural, tüm kullanıcılar için genel rol aracılığıyla erişilebilen tüm güvenli kılınabilir nesnelerin veya sütunlarının listesini görüntüler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1058     |`sa` oturum açma devre dışı bırakılmalıdır          |Yüksek         |`sa` , sorumlu KIMLIĞI 1 olan iyi bilinen bir hesaptır. Bu kural, `sa` hesabın devre dışı bırakıldığını doğrular.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1059     |xp_cmdshell devre dışı bırakılmalıdır          |Yüksek         |bir Windows komut kabuğu xp_cmdshell ve bunu yürütme için bir dize geçirir. Bu kural xp_cmdshell devre dışı olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1067     |Veritabanı Postası XPs kullanımda olmadığında devre dışı bırakılmalıdır          |Orta         |Bu kural, hiçbir veritabanı posta profili yapılandırılmadığında Veritabanı Postası devre dışı bırakıldığını denetler. Veritabanı Postası, SQL Server veritabanı altyapısından e-posta iletileri göndermek için kullanılabilir ve varsayılan olarak devre dışıdır. Bu özelliği kullanmıyorsanız, yüzey alanını azaltmak için devre dışı bırakmanız önerilir.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1068     |Sunucu izinleri doğrudan sorumlularına verilmemelidir          |Düşük         |Sunucu düzeyi izinleri, hangi kullanıcıların nesneye erişim kazanabileceği düzenlemek için sunucu düzeyi nesnesiyle ilişkilendirilir. Bu kural, doğrudan oturum açma işlemlerine izin verilen sunucu düzeyi izinlerinin olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1070     |Veritabanı kullanıcıları sunucu oturum açma adıyla aynı adı paylaşmamalıdır          |Düşük         |Veritabanı kullanıcıları sunucu oturum açma adıyla aynı adı paylaşabilir. Bu kural böyle bir Kullanıcı olmadığını doğrular.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1072     |Kimlik doğrulama modu Windows kimlik doğrulaması olmalıdır          |Orta         |İki olası kimlik doğrulama modu vardır: Windows kimlik doğrulama modu ve karma mod. Karma mod, SQL Server hem Windows kimlik doğrulaması hem de SQL Server kimlik doğrulaması sağlayan anlamına gelir. Bu kural, kimlik doğrulama modunun Windows kimlik doğrulaması olarak ayarlandığını denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1094     |Veritabanı izinleri doğrudan sorumlularına verilmemelidir          |Düşük         |İzinler, hangi kullanıcıların nesneye erişim kazanabileceği belirleyen bir güvenli kılınabilir nesneyle ilişkili kurallardır. Bu kural, kullanıcılara doğrudan izin verilen bir DB izinleri olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1095     |Genel role aşırı izin verilmemelidir          |Orta         |Her SQL Server oturum açma, genel sunucu rolüne aittir. Bir sunucu sorumlusu, güvenli kılınabilir bir nesne üzerinde belirli izinler verilmemişse veya reddedilmişse, Kullanıcı o nesne üzerinde herkese verilen izinleri devralır. Bu, genel role verilen tüm izinlerin bir listesini görüntüler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1096     |Birincil KONUĞA, veritabanında izinler verilmemelidir          |Düşük         |Her veritabanı Konuk adlı bir Kullanıcı içerir. KONUĞA verilen izinler veritabanına erişimi olan ancak veritabanında bir kullanıcı hesabı olmayan kullanıcılar tarafından devralınır. Bu kural, Konuk kullanıcıdan tüm izinlerin iptal edildiğini denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1097     |Asıl KONUĞA nesneler veya sütunlar üzerinde izin verilmemelidir          |Düşük         |Her veritabanı Konuk adlı bir Kullanıcı içerir. KONUĞA verilen izinler veritabanına erişimi olan ancak veritabanında bir kullanıcı hesabı olmayan kullanıcılar tarafından devralınır. Bu kural, Konuk kullanıcıdan tüm izinlerin iptal edildiğini denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1099     |Konuk kullanıcıya Veritabanı securables izin verilmemelidir          |Düşük         |Her veritabanı Konuk adlı bir Kullanıcı içerir. KONUĞA verilen izinler veritabanına erişimi olan ancak veritabanında bir kullanıcı hesabı olmayan kullanıcılar tarafından devralınır. Bu kural, Konuk kullanıcıdan tüm izinlerin iptal edildiğini denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1246     |Uygulama rolleri kullanılmamalıdır          |Düşük         |Uygulama rolü, bir uygulamanın kendi Kullanıcı benzeri izinlerle çalışmasını sağlayan bir veritabanı sorumlusuyla belirlenir. Uygulama rolleri, yalnızca belirli bir uygulama aracılığıyla bağlanan kullanıcıların belirli verilere erişmesini sağlar. Uygulama rolleri, parola-tahmin ile veritabanını uygulama rolü kimliğe bürünmeye getiren, parola tabanlıdır (genellikle bu uygulamalar tipik bir koddur) ve izin vermez. Bu kural, veritabanında hiçbir uygulama rolünün tanımlanmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı         |
|VA1248     |Kullanıcı tanımlı veritabanı rolleri, sabit rollerin üyesi olmamalıdır          |Orta         |Veritabanlarınızdaki izinleri kolayca yönetmek için SQL Server, diğer sorumluları gruplamak için güvenlik sorumluları olan çeşitli roller sağlar. Bunlar Microsoft Windows işletim sisteminde gruplar gibidir. Veritabanı hesapları ve diğer SQL Server rolleri, veritabanı düzeyi rollere eklenebilir. Bir sabit veritabanı rolünün her üyesi, aynı role diğer kullanıcıları ekleyebilir. Bu kural, hiçbir Kullanıcı tanımlı rolün sabit rol üyesi olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA1267     |Kapsanan kullanıcılar Windows kimlik doğrulamasını kullanmalıdır          |Orta         |Kapsanan kullanıcılar, veritabanında var olan ve oturum açma eşleştirmesi gerektirmeyen kullanıcılardır. Bu kural, içerilen kullanıcıların Windows kimlik doğrulaması 'nı kullanıp kullanmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1280     |Herkese verilen sunucu Izinleri küçültülmüş olmalıdır          |Orta         |Her SQL Server oturum açma, genel sunucu rolüne aittir. Bir sunucu sorumlusu, güvenli kılınabilir bir nesne üzerinde belirli izinler verilmemişse veya reddedilmişse, Kullanıcı o nesne üzerinde herkese verilen izinleri devralır. Bu kural, herkese verilen sunucu izinlerinin simge durumuna küçültülmüş olduğunu denetler.          |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1282     |Yalnız, rollerinin kaldırılması gerekir          |Düşük         |Yalnız bırakıldı rolleri, üyesi olmayan kullanıcı tanımlı rollerdir. Sistemde gerekli olmadığından yalnız bırakılmış rolleri ortadan kaldırın. Bu kural artık herhangi bir artık rol olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA2020     |En az sayıda sorumlu kullanıcı veritabanı kapsamındaki izinleri DEĞIŞTIRME veya DEĞIŞTIRME verilmelidir          |Yüksek         |Her SQL Server güvenli kılınabilir, sorumluya verilebilecek izinlerle ilişkili izinlere sahiptir. İzinler sunucu düzeyinde (oturum açma işlemleri ve sunucu rollerine atanmış) veya veritabanı düzeyinde (veritabanı kullanıcıları ve veritabanı rollerine atanır) kapsam yapılabilir. Bu kurallar, yalnızca en az sayıda sorumlu için ALTER veya ALTER USER veritabanı kapsamındaki izinleri olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA2033     |En az bir sorumlu kümesine nesneler veya sütunlarda veritabanı kapsamlı yürütme izni verilmelidir          |Düşük         |Bu kural, bu iznin en az bir sorumlu kümesine verilmesini sağlamak için nesneler veya sütunlarda hangi sorumluların yürütme izni verildiğini denetler. Her SQL Server güvenli kılınabilir, sorumluya verilebilecek izinlerle ilişkili izinlere sahiptir. İzinler sunucu düzeyinde (oturum açma işlemleri ve sunucu rollerine atanmış) veya veritabanı düzeyinde (veritabanı kullanıcıları, veritabanı rolleri veya uygulama rolleri için atanır) kapsamı belirlenmiş olabilir. EXECUTE izni, hesaplanan sütunlarda kullanılabilen hem saklı yordamlar hem de skaler işlevler için geçerlidir.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA2103     |Genişletilmiş saklı yordamlarda gereksiz yürütme izinleri iptal edilmelidir          |Orta         |Genişletilmiş saklı yordamlar, bir SQL Server örneğinin dinamik olarak yüklenip çalıştırılabilmesini sağlayan dll 'Lerdir. SQL Server, sistem dll 'Leriyle etkileşime izin veren çok sayıda genişletilmiş saklı yordam ile paketlenmiştir. Bu kural, genişletilmiş saklı yordamlarda gereksiz yürütme izinlerinin iptal edildiğini denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA2107     |En az bir sorumlu kümesi, sabit Azure SQL DB ana veritabanı rollerinin üyesi olmalıdır          |Yüksek         |SQL veritabanı, ana veritabanında, veritabanı oluşturma veya oturum açma bilgilerini yönetme izinleri veren kullanıcı hesaplarının eklenebileceği iki kısıtlı yönetim rolü sağlar. Bu kural, en az bir sorumlu kümesinin bu yönetim rollerinin üyesi olup olmadığını denetler.         |<nobr/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA2108     |En az sayıda sorumlu, sabit etkili veritabanı rollerinin üyesi olmalıdır          |Yüksek         |SQL Server, izinleri yönetmeye yardımcı olacak roller sağlar. Roller, diğer sorumluları grupuygulayan güvenlik ilkeleridir. Veritabanı düzeyindeki roller, izin kapsamlarındaki veritabanı genelindeki bir veritabanıdır. Bu kural, en az bir sorumlu kümesinin sabit veritabanı rollerinin üyesi olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA2109     |En az bir sorumlu kümesi, sabit düşük etki veritabanı rollerinin üyesi olmalıdır          |Düşük         |SQL Server, izinleri yönetmeye yardımcı olacak roller sağlar. Roller, diğer sorumluları grupuygulayan güvenlik ilkeleridir. Veritabanı düzeyindeki roller, izin kapsamlarındaki veritabanı genelindeki bir veritabanıdır. Bu kural, en az bir sorumlu kümesinin sabit veritabanı rollerinin üyesi olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA2110     |Kayıt defterine erişim için yürütme izinleri iptal edilmelidir          |Yüksek         |Kayıt defteri genişletilmiş saklı yordamları, kayıt defterindeki Microsoft SQL Server yazma ve listeleme değerlerini ve anahtarlarını okumasına olanak tanır. Bunlar, Enterprise Manager tarafından sunucusunu yapılandırmak için kullanılır. Bu kural, kayıt defteri genişletilmiş saklı yordamlarını yürütme izinlerinin tüm kullanıcılardan (dbo dışında) iptal edildiğini denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA2113     |Veri dönüştürme Hizmetleri (DTS) izinleri yalnızca SSIS rollerine verilmelidir          |Orta         |Veri dönüştürme Hizmetleri (DTS), bir veritabanından veya veritabanına ayıklama, dönüştürme ve yükleme işlemlerinin otomatikleştirilmesine izin veren bir nesne ve yardımcı programlar kümesidir. Nesneler DTS paketleri ve bileşenleridir ve yardımcı programlar DTS araçları olarak adlandırılır. Bu kural yalnızca SSIS rollerinin DTS sistem saklı yordamlarını kullanma izinleri verildiğini ve DTS sistem saklı yordamlarını kullanmak için genel rolün izinlerinin iptal edildiğini denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA2114     |En az sayıda sorumlu, yüksek etkili sabit sunucu rollerinin üyeleri olmalıdır          |Yüksek         |SQL Server, izinlerin yönetilmesine yardımcı olmak için roller sağlar. Roller, diğer sorumluları grupuygulayan güvenlik ilkeleridir. Sunucu düzeyindeki roller, izin kapsamlarındaki sunucu genelindeki ' dır. Bu kural, en az bir sorumlu kümesinin sabit sunucu rollerinin üyesi olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA2129     |İmzalı modüllerde değişikliklere izin verilmelidir          |Yüksek         |Saklı yordam, işlev veya tetikleyiciyi sertifikayla veya asimetrik anahtarla imzalayabilirsiniz. Bu, izinler sahiplik zincirden devralınamayacağını veya dinamik SQL gibi sahiplik zinciri kopuk olduğunda senaryolar için tasarlanmıştır. Bu kural, imzalanmış modüller üzerinde yapılan değişiklikleri denetler ve bu, kötü amaçlı kullanım göstergesi olabilir.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Veritabanı<br/><br/>SQL Yönetilen Örnek         |
|VA2130     |Veritabanına erişimi olan tüm kullanıcıları izle          |Düşük         |Bu denetim, bir veritabanına erişimi olan tüm kullanıcıları izler. Bu kullanıcıların kuruluştaki geçerli rollerine göre yetkilendirildiğinden emin olun.         |<nobr>SQL Veritabanı<nobr/><br/><br/>Azure Synapse         |

## <a name="auditing-and-logging"></a>Denetleme ve günlüğe kaydetme

|Kural Kimliği  |Kural başlığı  |Kural önem derecesi  |Kural Tanımı  |Platform  |
|---------|---------|---------|---------|---------|
|VA1045     |Varsayılan izleme etkinleştirilmelidir          |Orta         |Varsayılan izleme, ilk gerçekleştiğinde sorunları tanılamak için gereken günlük verilerine sahip olduklarından emin olarak veritabanı yöneticilerine sorun giderme yardımı sağlar. Bu kural varsayılan izlemenin etkin olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1091     |' Oturum açma denetimi ', oturum açma işlemlerini izlemek üzere ayarlandığında, hem başarılı hem de başarısız oturum açma girişimlerinin (varsayılan izleme) denetlenmesi etkinleştirilmelidir          |Düşük         |SQL Server oturum açma denetimi yapılandırması, yöneticilerin SQL Server örneklerine oturum açan kullanıcıları izlemesini sağlar. Kullanıcı SQL Server örneklerine oturum açan kullanıcıları izlemek için ' oturum açma denetimi ' üzerinde sayım yapmayı seçerse, hem başarılı hem de başarısız oturum açma girişimleri için etkinleştirmek önemlidir.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1093     |En fazla hata günlüğü sayısı 12 veya daha fazla olmalıdır          |Düşük         |Her SQL Server hata günlüğü, SQL Server son yeniden başlatıldığından veya hata günlüklerini en son geri dönüştürüldükten sonra oluşan hatalar/hatalarla ilgili tüm bilgileri alacak. Bu kural, en fazla hata günlüğü sayısının 12 veya daha fazla olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1258     |Veritabanı sahipleri bekleniyor          |Yüksek         |Veritabanı sahipleri, veritabanında tüm yapılandırma ve bakım etkinliklerini gerçekleştirebilir ve ayrıca SQL Server veritabanlarını bırakabilir. Veritabanı sahiplerini izleme, bazı sorumlular için aşırı izin oluşmasını önlemek açısından önemlidir. Veritabanı için beklenen veritabanı sahiplerini tanımlayan bir taban çizgisi oluşturun. Bu kural, veritabanı sahiplerinin taban çizgisinde tanımlanmış olup olmadığını denetler.         |<nobr>SQL Server 2016 +<sup>3</sup><nobr/><br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA1264     |Hem başarılı hem de başarısız oturum açma girişimlerinin denetlenmesi etkinleştirilmelidir          |Düşük         |SQL Server denetim yapılandırması, yöneticilerin sorumlu oldukları SQL Server örneklerine oturum açan kullanıcıları izlemesini sağlar. Bu kural, hem başarılı hem de başarısız oturum açma girişimleri için denetimin etkin olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1265     |Kapsanan DB kimlik doğrulaması için hem başarılı hem de başarısız oturum açma girişimlerinin denetlenmesi etkinleştirilmelidir          |Orta         |SQL Server denetim yapılandırması, yöneticilerin sorumlu oldukları örneklere SQL Server oturum açan kullanıcıları izlemesini sağlar. Bu kural, içerilen DB kimlik doğrulaması için hem başarılı hem de başarısız oturum açma girişimleri için denetimin etkin olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1281     |Kullanıcı tanımlı rollerin tüm üyelikleri düşünülmelidir          |Orta         |Kullanıcı tanımlı roller, Kullanıcı tarafından, izinleri kolayca yönetmek üzere sorumluları gruplamak için tanımlanan güvenlik ilkeleridir. Aşırı izin vermekten kaçınmak için bu rollerin izlenmesi önemlidir. Kullanıcı tanımlı her rol için beklenen üyeliği tanımlayan bir taban çizgisi oluşturun. Bu kural, Kullanıcı tanımlı rollerin tüm üyeliklerinin taban çizgisinde tanımlanmış olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA1283     |Sistemde en az 1 etkin denetim olmalıdır          |Düşük         |SQL Server veritabanı altyapısının veya tek bir veritabanının bir örneğini denetlemek, veritabanı altyapısında gerçekleşen izleme ve günlüğe kaydetme olaylarını içerir. SQL Server denetim nesnesi, tek bir sunucu örneği veya veritabanı düzeyinde eylemler ve izlenecek eylem grupları toplar. Bu kural sistemde en az bir etkin denetim olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA2061     |Denetim, sunucu düzeyinde etkinleştirilmelidir          |Yüksek         |Azure SQL veritabanı denetimi, veritabanı olaylarını izler ve bunları Azure Depolama hesabınızdaki bir denetim günlüğüne yazar. Denetim, veritabanı etkinliklerini anlamanıza ve işle ilgili endişeleri veya şüpheli güvenlik ihlallerini gösterebilen ve yasal uyumluluk gereksinimlerini karşılamanıza yardımcı olan tutarsızlıklar ve bozukluklar elde etmenize yardımcı olur. Daha fazla bilgi için bkz. [Azure SQL denetimi](./auditing-overview.md). Bu kural, denetimin etkin olup olmadığını denetler.         |<nobr/>SQL Veritabanı<br/><br/>Azure Synapse          |

## <a name="data-protection"></a>Veri Koruma

|Kural Kimliği  |Kural başlığı  |Kural önem derecesi  |Kural Tanımı  |Platform  |
|---------|---------|---------|---------|---------|
|VA1098     |Var olan SSB veya yansıtma uç noktası için AES bağlantısı gerekir          |Yüksek         |Hizmet Aracısı ve yansıtma uç noktaları, şifreleme dahil olmak üzere farklı şifreleme algoritmalarını destekler. Bu kural, var olan herhangi bir uç noktanın AES şifrelemesi gerektirip gerektirmediğini denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1219     |Saydam veri şifrelemesi etkinleştirilmelidir          |Orta         |Saydam veri şifrelemesi (TDE), uygulamada değişiklik yapılmasına gerek kalmadan veritabanı, ilişkili yedeklemeler ve işlem günlüğü dosyaları ' rest ' için gerçek zamanlı şifreleme ve şifre çözme gerçekleştirerek veritabanı dosyalarını bilgi açığa çıkmasına karşı korumanıza yardımcı olur. Bu kural, TDE 'nın veritabanında etkin olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA1220     |TDS kullanan veritabanı iletişimi TLS aracılığıyla korunmalıdır          |Yüksek         |Microsoft SQL Server Güvenli Yuva Katmanı (SSL) veya Aktarım Katmanı Güvenliği (TLS) kullanarak, bir SQL Server örneği ve bir istemci uygulaması arasında bir ağ üzerinden aktarılan verileri şifreleyebilirsiniz. Bu kural, SQL Server tüm bağlantıların TLS aracılığıyla şifrelenip şifrelenmediğini denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1221     |Veritabanı şifrelemesi simetrik anahtarlarının AES algoritması kullanması gerekir          |Yüksek         |SQL Server, veri kimlik bilgilerinin ve bir sunucu veritabanında depolanan bağlantı bilgilerinin güvenliğinin sağlanmasına yardımcı olmak için şifreleme anahtarlarını kullanır. SQL Server iki tür anahtara sahiptir: simetrik ve asimetrik. Bu kural, veritabanı şifrelemesi simetrik anahtarlarının AES algoritmasını kullanıp kullanmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA1222     |Cell-Level şifreleme anahtarları AES algoritması kullanmalıdır          |Yüksek         |Cell-Level şifreleme (CLE), simetrik ve asimetrik anahtarlar kullanarak verilerinizi şifrelemenizi sağlar. Bu kural Cell-Level şifreleme simetrik anahtarlarının AES algoritması kullanıp kullanmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1223     |Sertifika anahtarları en az 2048 bit kullanmalıdır          |Yüksek         |Sertifika anahtarları, RSA ve verileri korumak için diğer şifreleme algoritmalarında kullanılır. Bu anahtarların, kullanıcının verilerini güvenli hale getirmek için yeterli uzunlukta olması gerekir. Bu kural, anahtarın uzunluğunun tüm sertifikalar için en az 2048 bit olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA1224     |Asimetrik anahtarların uzunluğu en az 2048 bit olmalıdır          |Yüksek         |Veritabanı asimetrik anahtarları birçok şifreleme algoritmasına kullanıldığında, bu anahtarların şifrelenmiş verileri güvenli hale getirmek için yeterli uzunlukta olması gerekir bu kural, veritabanında depolanan tüm asimetrik anahtarların en az 2048 bit uzunluğunda olduğunu denetler         |<nobr>SQL Server 2012<nobr/><br/><br/><nobr>SQL Server 2014<nobr/><br/><br/>SQL Veritabanı         |
|VA1279     |TDS 'e zorla şifreleme etkinleştirilmelidir          |Yüksek         |Veritabanı altyapısı için şifrelemeyi zorla seçeneği etkinken, ' bağlantıyı şifreleme ' seçeneğinin (örneğin SSMS) işaretli olup olmamasına bakılmaksızın istemci ve sunucu arasındaki tüm iletişimler şifrelenir. Bu kural, şifrelemeyi zorla seçeneğinin etkin olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1288     |Gizli veri sütunları sınıflandırılmalıdır          |Orta         |Bu kural, taranan veritabanının sınıflandırılmayan duyarlı verilere sahip olup olmadığını denetler.         |<nobr/>SQL Veritabanı         |
|VA2060     |SQL tehdit algılama, sunucu düzeyinde etkinleştirilmelidir          |Orta         |SQL tehdit algılama, SQL ekleme saldırıları ve olağan dışı davranış desenleri gibi veritabanlarında olası güvenlik açıklarını ve anormal etkinlikleri algılayan bir güvenlik katmanı sağlar. Olası bir tehdit algılandığında, tehdit algılama, e-posta ile ve Azure Güvenlik Merkezi 'nde, belirli bir tehdit için Temizleme araştırması ve düzeltme adımlarını içeren, eyleme dönüştürülebilir gerçek zamanlı bir uyarı gönderir. Daha fazla bilgi için lütfen bkz. [tehdit algılamayı yapılandırma](./threat-detection-configure.md). Bu denetim SQL tehdidi algılama 'nın etkin olduğunu doğrular         |<nobr/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |

## <a name="installation-updates-and-patches"></a>Yükleme güncelleştirmeleri ve düzeltme ekleri

|Kural Kimliği  |Kural başlığı  |Kural önem derecesi  |Kural Tanımı  |Platform  |
|---------|---------|---------|---------|---------|
| VA1018     |En son güncelleştirmeler yüklenmelidir          |Yüksek         |Microsoft, SQL Server her sürümü için düzenli olarak toplu güncelleştirmeleri (cu düzeyinde kapsanır) yayınlar. Bu kural, yürütme için bir dizeye geçerek kullanılan SQL Server belirli sürümü için en son CU 'nin yüklenip yüklenmediğini denetler. Bu kural, tüm kullanıcıların (dbo hariç) xp_cmdshell genişletilmiş saklı yordamı yürütme iznine sahip olup olmadığını denetler. |<nobr>SQL Server 2005<nobr/><br/><br/><nobr>SQL Server 2008<nobr/><br/><br/><nobr>SQL Server 2008<nobr/><br/><br/><nobr>SQL Server 2012<nobr/><br/><br/><nobr>SQL Server 2014<nobr/><br/><br/><nobr>SQL Server 2016<nobr/><br/><br/>SQL Server 2017<br/>|
|VA2128     |Güvenlik açığı değerlendirmesi, SQL Server 2012 ' den daha düşük SQL Server sürümler için desteklenmez          |Yüksek         |SQL Server bir güvenlik açığı değerlendirme taraması çalıştırmak için, sunucunun SQL Server 2012 veya üzeri bir sürüme yükseltilmesi gerekir SQL Server 2008 R2 ve aşağıda artık Microsoft tarafından desteklenmemektedir. Daha fazla bilgi için bkz. <https://www.microsoft.com/cloud-platform/windows-sql-server-2008>.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |

## <a name="surface-area-reduction"></a>Yüzey alanı azaltma

|Kural Kimliği  |Kural başlığı  |Kural önem derecesi  |Kural Tanımı  |Platform  |
|---------|---------|---------|---------|---------|
|VA1022     |Geçici olarak dağıtılmış sorgular devre dışı bırakılmalıdır          |Orta         |Geçici dağıtılmış sorgular, `OPENROWSET` `OPENDATASOURCE` OLE DB kullanan uzak veri kaynaklarına bağlanmak için ve işlevlerini kullanır. Bu kural, geçici olarak Dağıtılmış sorguların devre dışı bırakıldığını denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1023     |CLR devre dışı bırakılmalıdır          |Yüksek         |CLR, yönetilen kodun Microsoft SQL Server ortamda barındırılmasına ve çalıştırmasına izin verir. Bu kural, CLR 'nin devre dışı olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1026     |CLR devre dışı bırakılmalıdır          |Orta         |CLR, yönetilen kodun Microsoft SQL Server ortamda barındırılmasına ve çalıştırmasına izin verir. CLR sıkı güvenlik, GÜVENLI ve EXTERNAL_ACCESS derlemelerini, güvenli olarak işaretlenmiş gibi davranır ve tüm derlemelerin ana veritabanında güvenli olmayan derleme izni verilmiş bir sertifika veya asimetrik anahtar ile imzalanmasını gerektirir. Bu kural, CLR 'nin devre dışı olduğunu denetler.         |<nobr>SQL Server 2017 +<sup>2</sup><nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1027     |İzlenmeyen güvenilen derlemelerin kaldırılması gerekir          |Yüksek         |GÜVENLI olmayan olarak işaretlenen derlemelerin, ana veritabanında güvenli olmayan derleme izni verilmiş bir sertifika veya karşılık gelen bir oturum açma ile asimetrik anahtar tarafından imzalanması gerekir. Güvenilen derlemeler bu gereksinimi atlayabilir.          |<nobr>SQL Server 2017 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1044     |Özellikle gerekli olmadığı müddetçe uzak yönetici bağlantıları devre dışı bırakılmalıdır          |Orta         |Bu kural, saldırı yüzeyi alanını azaltmak için kümeleme için kullanılmıyorsa, uzaktan adanmış yönetici bağlantılarının devre dışı bırakıldığını denetler. SQL Server, adanmış yönetici bağlantısı (DAC) sağlar. DAC, yöneticinin Tanılama işlevleri veya Transact-SQL deyimlerini yürütmek için çalışan bir sunucuya erişmesine veya sunucudaki sorunları gidermenize olanak sağlar ve uzaktan etkinleştirildiğinde saldırıya açık bir hedef haline gelir.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1051     |AUTO_CLOSE tüm veritabanlarında devre dışı bırakılmalıdır          |Orta         |AUTO_CLOSE seçeneği, veritabanının düzgün kapanıp kapanmadığını ve son kullanıcının bağlantısını keser ve kaynakları serbest bırakır. Avantajlarından bağımsız olarak veritabanını açıp kapatarak hizmet reddine neden olabilir, bu nedenle bu özelliğin devre dışı bırakılması önemlidir. Bu kural geçerli veritabanında bu seçeneğin devre dışı olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1066     |Kullanılmayan hizmet Aracısı uç noktaları kaldırılmalıdır          |Düşük         |Hizmet Aracısı, SQL Server için sıraya alma ve güvenilir mesajlaşma sağlar. Hizmet Aracısı, her ikisi birden çok örnek arasında iş dağıtan tek bir SQL Server örneği ve uygulamaları kullanan uygulamalar için kullanılır. Hizmet Aracısı uç noktaları, aktarım güvenliği ve ileti iletme seçeneklerini sağlar. Bu kural tüm hizmet Aracısı uç noktalarını numaralandırır. Kullanılmayan olanları kaldırın.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1071     |' Başlangıç saklı yordamlarını Tara ' seçeneği devre dışı bırakılmalıdır          |Orta         |' Başlangıç procs taraması ' etkinleştirildiğinde SQL Server, tüm otomatik olarak sunucu üzerinde tanımlanan saklı yordamları çalıştırır. Bu seçenek etkinleştirilirse SQL Server tarar ve çalıştırır, tüm otomatik olarak sunucuda tanımlanan saklı yordamları Çalıştır. Bu kural, bu seçeneğin devre dışı olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1092     |SQL Server örnek SQL Server Browser hizmeti tarafından tanıtılmamalıdır          |Düşük         |SQL Server, bilgisayarda yüklü olan veritabanı altyapısının örneklerini numaralandırmak için SQL Server Browser hizmetini kullanır. Bu, istemci uygulamaların bir sunucuya gözatmasını ve istemcilerin aynı bilgisayardaki veritabanı altyapısının birden çok örneğini ayırt etmesine yardımcı olur. Bu kural, SQL örneğinin gizli olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1102     |Güvenilir bit MSDB hariç tüm veritabanlarında devre dışı bırakılmalıdır          |Yüksek         |GÜVENILIR veritabanı özelliği, SQL Server örneğinin veritabanına ve içindeki içeriğe güvenip güvenmeyeceğini belirtmek için kullanılır. Bu seçenek, kimliğe bürünme bağlamı kullanan veritabanı modülleri (örneğin, Kullanıcı tanımlı işlevler veya saklı yordamlar), veritabanı dışındaki kaynaklara erişebilir. Bu kural, MSDB hariç tüm veritabanlarında GÜVENILIR bitin devre dışı bırakıldığını doğrular.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1143     |' dbo ' kullanıcısı normal hizmet işlemi için kullanılmamalıdır          |Orta         |' Dbo ' veya veritabanı sahibi, veritabanındaki tüm etkinlikleri gerçekleştirmek için kapsanan izinlere sahip olan bir kullanıcı hesabıdır. Sysadmin sabit sunucu rolünün üyeleri, dbo 'ya otomatik olarak eşlenir. Bu kural dbo 'nun bu veritabanına erişim izni verilen tek hesap olmadığını denetler. Yeni oluşturulan temiz bir veritabanı üzerinde ek roller oluşturuluncaya kadar bu kuralın başarısız olacağını unutmayın.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek<br/><br/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA1144     |Model veritabanı yalnızca ' dbo ' tarafından erişilebilir olmalıdır          |Orta         |Model veritabanı, SQL Server örneğinde oluşturulan tüm veritabanları için şablon olarak kullanılır. Veritabanı boyutu kurtarma modeli ve diğer veritabanı seçenekleri gibi model veritabanında yapılan değişiklikler, daha sonra oluşturulan tüm veritabanlarına uygulanır. Bu kural dbo 'nun, model veritabanına erişim izni verilen tek hesap olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1230     |FILESTREAM devre dışı bırakılmalıdır          |Yüksek         |FıLESTREAM, varbinary (max) ikili büyük nesne (BLOB) verilerini dosya sisteminde dosya olarak depolayarak bir NTFS dosya sistemiyle SQL Server veritabanı altyapısını tümleştirir. Transact-SQL deyimleri, FıLESTREAM verilerini ekleyebilir, güncelleştirebilir, sorgulayabilir, arayabilir ve yedekleyebilir. SQL Server 'da FileStream 'in etkinleştirilmesi, saldırı yüzeyini artıran ve kötü niyetli saldırılara maruz hale getiren ek NTFS akış API 'SI sunar. Bu kural, FILESTREAM 'in devre dışı olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1235     |' Çoğaltma XPs ' sunucu yapılandırması devre dışı bırakılmalıdır          |Orta         |Saldırı yüzeyi alanını sınırlandırmak için kullanımdan kaldırılan ' Çoğaltma XPs ' sunucu yapılandırmasını devre dışı bırakın. Bu yalnızca dahili bir yapılandırma ayarıdır.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1244     |Yalnız bırakılmış kullanıcılar SQL Server veritabanlarından kaldırılmalıdır          |Orta         |Bir veritabanında bulunan ancak ana veritabanında (örneğin, bir Windows kullanıcısı) karşılık gelen bir oturum açma işlemi olmayan bir veritabanı kullanıcısı, yalnız bırakılmış kullanıcı olarak adlandırılır ve kaldırılmalı veya geçerli bir oturum açma ile yeniden eşleştirilir. Bu kural yalnız bırakılmış kullanıcılar olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1245     |Dbo bilgileri hedef VERITABANı ile ana öğe arasında tutarlı olmalıdır          |Yüksek         |Herhangi bir veritabanı için dbo kimliği hakkında gereksiz bilgiler vardır: veritabanında depolanan meta veriler ve ana DB 'de depolanan meta veriler. Bu kural, hedef VERITABANı ve ana öğe arasında bu bilgilerin tutarlı olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1247     |Otomatik başlatma olarak işaretlenmiş bir SPs olmaması gerekir          |Yüksek         |SQL Server ' başlangıç procs taraması ' olarak yapılandırıldığında, sunucu otomatik başlatma olarak işaretlenen saklı yordamlar için Master DB 'yi tarar. Bu kural, otomatik başlatma olarak işaretlenmiş bir SPs olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1256     |Kullanıcı CLR derlemeleri veritabanında tanımlanmamalıdır          |Yüksek         |CLR derlemeleri SQL Server işleminde rastgele kod yürütmek için kullanılabilir. Bu kural, veritabanında kullanıcı tanımlı CLR derlemeleri olup olmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA1277     |PolyBase ağ şifrelemesi etkinleştirilmelidir          |Yüksek         |PolyBase, SQL Server içinden hem ilişkisel olmayan hem de ilişkisel verileri erişen ve birleştiren bir teknolojidir. PolyBase ağ şifreleme seçeneği, PolyBase kullanılırken denetimi ve veri kanallarını şifrelemek için SQL Server yapılandırır. Bu kural, bu seçeneğin etkinleştirildiğini doğrular.         |<nobr>SQL Server 2016 +<nobr/>         |
|VA1278     |Dış anahtar yönetim sağlayıcılarının temelini oluşturma          |Orta         |SQL Server Genişletilebilir anahtar yönetimi (EKM), üçüncü taraf EKM/donanım güvenlik modülleri (HSM) satıcılarının modüllerini SQL Server olarak kaydetmesini sağlar. SQL Server kullanıcılar EKM modüllerine depolanan şifreleme anahtarlarını kullanabilir, bu kural sistemde kullanılan EKM sağlayıcılarının listesini görüntüler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA2062     |Veritabanı düzeyinde güvenlik duvarı kuralları aşırı erişim vermemelidir          |Yüksek         |Azure SQL veritabanı düzeyinde güvenlik duvarı, hangi IP adreslerinin izin olduğunu belirtene kadar veritabanınıza tüm erişimi engeller ve verilerinizin korunmasına yardımcı olur. Veritabanı düzeyinde güvenlik duvarı kuralları, her isteğin kaynak IP adresine göre belirli veritabanına erişim izni verir. Ana ve kullanıcı veritabanları için veritabanı düzeyinde güvenlik duvarı kuralları yalnızca Transact-SQL (Azure portal veya PowerShell kullanılarak oluşturulup yönetilebilen sunucu düzeyi güvenlik duvarı kurallarından farklı olarak) oluşturabilir ve yönetilebilir. Daha fazla bilgi için bkz. [Azure SQL veritabanı ve Azure SYNAPSE ANALYTICS IP güvenlik duvarı kuralları](./firewall-configure.md). Bu denetim, veritabanı düzeyinde güvenlik duvarı kurallarının 255 ' den fazla IP adresine erişim vermediği doğrular.         |<nobr/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA2063     |Sunucu düzeyinde güvenlik duvarı kuralları aşırı erişim vermemelidir          |Yüksek         |Azure SQL Server düzeyinde güvenlik duvarı, hangi IP adreslerinin izin olduğunu belirtene kadar veritabanlarınıza tüm erişimi engeller ve sunucunuzu korumanıza yardımcı olur. Sunucu düzeyinde güvenlik duvarı kuralları, her isteğin kaynak IP adresini temel alarak sunucuya ait tüm veritabanlarına erişim izni verir.  Sunucu düzeyinde güvenlik duvarı kuralları yalnızca Transact-SQL ile ve Azure portal veya PowerShell aracılığıyla oluşturulabilir ve yönetilebilir. Daha fazla bilgi için bkz. [Azure SQL veritabanı ve Azure SYNAPSE ANALYTICS IP güvenlik duvarı kuralları](./firewall-configure.md). Bu denetim, sunucu düzeyi güvenlik duvarı kurallarının 255 ' den fazla IP adresine erişim vermediği doğrular.         |<nobr/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA2064     |Veritabanı düzeyinde güvenlik duvarı kuralları, sıkı bir en düşük düzeyde izlenmeli ve korunur          |Yüksek         |Azure SQL veritabanı düzeyinde güvenlik duvarı, hangi IP adreslerinin izin olduğunu belirtene kadar veritabanınıza tüm erişimi engeller ve verilerinizin korunmasına yardımcı olur. Veritabanı düzeyinde güvenlik duvarı kuralları, her isteğin kaynak IP adresine göre belirli veritabanına erişim izni verir. Ana ve kullanıcı veritabanları için veritabanı düzeyinde güvenlik duvarı kuralları yalnızca Transact-SQL (Azure portal veya PowerShell kullanılarak oluşturulup yönetilebilen sunucu düzeyi güvenlik duvarı kurallarından farklı olarak) oluşturabilir ve yönetilebilir. Daha fazla bilgi için bkz. [Azure SQL veritabanı ve Azure SYNAPSE ANALYTICS IP güvenlik duvarı kuralları](./firewall-configure.md). Bu denetim, tüm veritabanı düzeyinde güvenlik duvarı kurallarını, bunlar üzerinde yapılan değişikliklerin tanımlanabilmesi ve giderilmesi için numaralandırır.         |<nobr/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA2065     |Sunucu düzeyi güvenlik duvarı kuralları, sıkı bir en düşük düzeyde izlenmeli ve korunur          |Yüksek         |Azure SQL Server düzeyinde güvenlik duvarı, hangi IP adreslerinin izin olduğunu belirtene kadar veritabanlarınıza tüm erişimi engeller ve verilerinizin korunmasına yardımcı olur. Sunucu düzeyinde güvenlik duvarı kuralları, her isteğin kaynak IP adresini temel alarak sunucuya ait tüm veritabanlarına erişim izni verir.  Sunucu düzeyi güvenlik duvarı kuralları, Transact-SQL üzerinden ve Azure portal veya PowerShell aracılığıyla oluşturulabilir ve yönetilebilir. Daha fazla bilgi için bkz. [Azure SQL veritabanı ve Azure SYNAPSE ANALYTICS IP güvenlik duvarı kuralları](./firewall-configure.md).  Bu denetim, tüm sunucu düzeyi güvenlik duvarı kurallarını, bunlara yapılan değişikliklerin tanımlanabilmesi ve giderilmesi için numaralandırır.         |<nobr/>SQL Veritabanı<br/><br/>Azure Synapse         |
|VA2111     |Örnek veritabanları kaldırılmalıdır          |Düşük         |Microsoft SQL Server, birkaç örnek veritabanı ile birlikte gönderilir. Bu kural, örnek veritabanlarının kaldırılıp kaldırılmadığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA2120     |Güvenliği etkileyebilecek özellikler devre dışı bırakılmalıdır          |Yüksek         |SQL Server, çok çeşitli özellikler ve hizmetler sağlayabilme özelliğine sahiptir. Varsayılan olarak sunulan bazı özellikler ve hizmetler gerekli olmayabilir ve bu hizmetlerin etkinleştirilmesi sistemin güvenliğini olumsuz etkileyebilir. Bu kural, bu özelliklerin devre dışı bırakıldığını denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA2121     | ' OLE Otomasyonu yordamları ' özelliği devre dışı bırakılmalıdır         |Yüksek         |SQL Server, çok çeşitli özellikler ve hizmetler sağlayabilme özelliğine sahiptir. Varsayılan olarak belirtilen bazı özellikler ve hizmetler gerekli olmayabilir ve bu hizmetlerin etkinleştirilmesi sistemin güvenliğini olumsuz etkileyebilir. OLE Otomasyonu yordamları seçeneği, OLE Otomasyon nesnelerinin Transact-SQL toplu işleri içinde oluşturulup oluşturuamayacağını denetler. Bunlar, SQL Server kullanıcıların dış SQL Server işlevleri yürütmesine olanak tanıyan genişletilmiş saklı yordamlardır. Avantajlarından bağımsız olarak, güvenlik açıkları için de kullanılabilir ve hedef makinelerde dosyaları tesis için popüler bir mekanizma olarak bilinir. PowerShell 'in bu aracın yerini alacak şekilde kullanılması önerilir. Bu kural ' OLE Otomasyonu yordamları ' özelliğinin devre dışı olduğunu denetler.          |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA2122     |' Kullanıcı seçenekleri ' özelliği devre dışı bırakılmalıdır          |Orta         |SQL Server, çok çeşitli özellikler ve hizmetler sağlayabilme özelliğine sahiptir. Varsayılan olarak sunulan bazı özellikler ve hizmetler gerekli olmayabilir ve bu hizmetlerin etkinleştirilmesi sistemin güvenliğini olumsuz etkileyebilir. Kullanıcı seçenekleri tüm kullanıcılar için genel Varsayılanları belirler. Bir kullanıcının iş oturumunun süresi boyunca varsayılan sorgu işleme seçeneklerinin bir listesi oluşturulur. Kullanıcı seçenekleri, küme seçeneklerinin varsayılan değerlerini değiştirmenize izin verir (sunucunun varsayılan ayarları uygun değilse). Bu kural, ' Kullanıcı seçenekleri ' özelliğinin devre dışı olduğunu denetler.         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Yönetilen Örnek         |
|VA2126     |Genişletilebilirlik-gerekmiyorsa güvenliği etkileyebilecek özellikler devre dışı bırakılmalıdır          |Orta         |SQL Server, çok çeşitli özellikler ve hizmetler sağlar. Varsayılan olarak belirtilen bazı özellikler ve hizmetler gerekli olmayabilir ve bu hizmetlerin etkinleştirilmesi sistemin güvenliğini olumsuz etkileyebilir. Bu kural, bir dış veri kaynağına veri ayıklama izni veren yapılandırmaların ve belirli uzak dil uzantılarına sahip betikleri yürütmenin devre dışı bırakıldığını denetler.         |<nobr>SQL Server 2016 +<nobr/>         |

## <a name="removed-rules"></a>Kaldırılan kurallar

|Kural Kimliği  |Kural başlığı  |
|---------|---------|
|VA1021     |Küresel geçici saklı yordamlar kaldırılmalıdır         |
|VA1024    |C2 Denetim modu etkinleştirilmelidir |
|VA1069     |Sistem tabloları ve görünümleri arasından seçim yapmak için gereken izinler, sysadmins olmayan bir şekilde iptal edilmelidir         |
|VA1090    |Raf (GOTS) ve özel saklı yordamların tümünün şifrelendiğinden emin olun |
|VA1103    |Yalnızca SAFE_ACCESS iznine sahip CLR kullanın |
|VA1229     |Kayıt defterindeki ve SQL Server yapılandırmasındaki FILESTREAM ayarı eşleşmelidir         |
|VA1231     |FILESTREAM devre dışı bırakılmalıdır (SQL)         |
|VA1234     |Ortak Ölçütler ayarı etkinleştirilmelidir         |
|VA1252     |Denetlenen ve sunucu denetim belirtimleri aracılığıyla merkezi olarak yönetilen olayların listesi.         |
|VA1253     |Denetlenen ve sunucu denetim belirtimleri aracılığıyla merkezi olarak yönetilen DB kapsamlı olayların listesi         |
|VA1263     |Sistemdeki tüm etkin denetimleri listeleme         |
|VA1266     |' MUST_CHANGE ' seçeneği tüm SQL oturum açmalarında ayarlanmalıdır         |
|VA1276     |Aracı XPs özelliği devre dışı bırakılmalıdır         |
|VA1286     |Veritabanı izinleri doğrudan sorumlularına (nesne veya sütun) verilmemelidir         |
|VA2000     |En az bir sorumlu kümesine, veritabanı kapsamındaki yüksek etkili izinler verilmelidir         |
|VA2001     |En az sayıda sorumlu, nesneler veya sütunlarda veritabanı kapsamındaki yüksek etkili izinler verilmelidir         |
|VA2002     |En az sayıda sorumlu, çeşitli securables üzerinde veritabanı kapsamlı yüksek izinler verilmelidir         |
|VA2010     |En az sayıda sorumlu, orta düzeyde etki veritabanı kapsamlı izinler verilmelidir         |
|VA2021     |En az sayıda sorumlu, nesneler veya sütunlarda veritabanı kapsamındaki ALTER Permissions verilmelidir         |
|VA2022     |Çeşitli securables, en az sayıda sorumlu için veritabanı kapsamlı DEĞIŞTIRME izni verilmelidir         |
|VA2030     |En az bir sorumlu kümesine, veritabanı kapsamlı SELECT veya EXECUTE izinleri verilmelidir         |
|VA2031     |En az bir sorumlu kümesine, veritabanı kapsamlı SEÇIM verilmelidir          |
|VA2032     |En az bir sorumlu kümesine şema üzerinde veritabanı kapsamlı SELECT veya EXECUTE izinleri verilmelidir         |
|VA2034     |En az sayıda sorumlu, XML şema koleksiyonunda veritabanı kapsamlı yürütme izni verilmelidir         |
|VA2040     |En az bir sorumlu kümesine, düşük etki veritabanı kapsamlı izinler verilmelidir         |
|VA2041     |En az sayıda sorumlu, nesneler veya sütunlarda veritabanı kapsamındaki düşük etki düzeyi izinlerinin verilmesi gerekir         |
|VA2042     |En az sayıda sorumlu, şema üzerinde veritabanı kapsamındaki düşük etkili izinler verilmelidir         |
|VA2050     |En az bir sorumlu kümesine, veritabanı kapsamlı görünüm tanımı izinleri verilmelidir         |
|VA2051     |En az bir sorumlu kümesine, nesneler veya sütunlarda veritabanı kapsamlı görünüm tanımı izinleri verilmelidir         |
|VA2052     |Çeşitli securables, en az sayıda sorumlu için veritabanı kapsamlı görünüm tanımı izni verilmelidir         |
|VA2100     |En az bir sorumlu kümesine, sunucu kapsamlı yüksek etki izinleri verilmelidir         |
|VA2101     |En az sayıda sorumlu, orta etki sunucu kapsamlı izinler verilmelidir         |
|VA2102     |En az bir sorumlu kümesine, düşük etki sunucu kapsamlı izinler verilmelidir         |
|VA2104     |Genişletilmiş saklı yordamlarda yürütme izinleri genel olarak iptal edilmelidir         |
|VA2105     |Oturum açma parolası kolayca tahmin edilmelidir         |
|VA2112     |Veri dönüştürme Hizmetleri (DTS) için genel izinler iptal edilmelidir         |
|VA2115     |En az bir sorumlu kümesi, orta etki sabit sunucu rollerinin üyeleri olmalıdır         |
|VA2123     |' Uzaktan erişim ' özelliği devre dışı bırakılmalıdır         |
|VA2127     |' Dış betikler ' özelliği devre dışı bırakılmalıdır         |

## <a name="next-steps"></a>Sonraki adımlar

- [Güvenlik Açığı Değerlendirmesi](sql-vulnerability-assessment.md)
- [SQL güvenlik açığı değerlendirme kuralları CHANGELOG](sql-database-vulnerability-assessment-rules-changelog.md)
